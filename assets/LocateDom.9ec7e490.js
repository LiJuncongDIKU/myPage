import{n as f}from"./vendor.38d9047a.js";class m{constructor({activeClass:o,dom:e,offset:a,childClass:s}){const i=e;if(this.activeClass=o||"active",this.parentDom=e,!i){console.error("locate-child-dom: fail to get dom");return}const p=()=>{let l=[...i.childNodes];s&&(l=l.filter(c=>c.className.indexOf(s)>-1));const r=l.findIndex(c=>c.className.indexOf("active")>-1);if(r!==-1){const c=i.childNodes[r],v=Math.ceil(c.clientHeight);console.log("activeDom",[c]);const n=v*r;(n>i.scrollTop+i.clientHeight||n<i.scrollTop)&&(i.scrollTop=n+(a||-v))}},u={childList:!0,attributes:!0,subtree:!0};new MutationObserver(p).observe(i,u)}}var _=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"common-passage"},[e("h1",[t._v("\u6EDA\u52A8\u5B9A\u4F4D")]),e("h2",[t._v("locate-child-dom")]),e("p",[t._v("\u4E00\u4E2A\u7B80\u5355\u4F46\u662F\u975E\u5E38\u5E38\u7528\u7684\u5B9A\u4F4D\u529F\u80FD")]),e("p",[t._v(" \u5C24\u5176\u662F\u5728\u56FD\u5185\u7684\u7BA1\u7406\u5E73\u53F0\u9879\u76EE\u4E2D\uFF0C\u5BF9\u4E8E\u67E5\u8BE2\u7684\u4EA4\u4E92\u5982\u679C\u5B58\u5728\u8DF3\u8F6C\u6216\u5176\u4ED6\u573A\u666F\u3002\u7ECF\u5E38\u9700\u8981\u9AD8\u4EAE\u5E76\u4E14\u5B9A\u4F4D\u5230\u67D0\u4E2A\u5217\u8868\u7684\u6EDA\u52A8\u3002 ")]),e("div",{staticClass:"flex-box"},[e("div",[e("h3",[t._v("\u7B80\u5355\u4F8B\u5B50 "),e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.randomActive}},[t._v("\u8BD5\u4E00\u8BD5")])],1),e("div",[t._v(" new LocateDom({ dom: this.$refs.list1 });")]),e("div",{ref:"list1",staticClass:"list"},t._l(t.list1,function(a,s){return e("div",{key:s,class:{"list-item":!0,active:t.active1===s}},[t._v(" "+t._s(a.text)+" ")])}),0)]),t._v(" \u2003 "),e("div",[e("h3",[t._v("\u5B58\u5728\u5176\u4ED6")]),e("div",[t._v(" new LocateDom({ dom: this.$refs.list2, childClass: 'list-item' })")]),e("div",{ref:"list2",staticClass:"list"},[e("div",{staticClass:"active",staticStyle:{position:"sticky",top:"0"}},[t._v("position: sticky")]),e("div",{staticClass:"active"},[t._v("normal")]),t._l(t.list1,function(a,s){return e("div",{key:s,class:{"list-item":!0,active:t.active1===s}},[t._v(t._s(a.text))])})],2)])]),e("h3",[t._v("\u5177\u4F53\u8BF7\u67E5\u770B npm \u5730\u5740")]),e("a",{attrs:{target:"_blank",href:"https://www.npmjs.com/package/locate-child-dom"}},[t._v("locate-child-dom")])])},b=[];_._withStripped=!0;const D={name:"locateDom",components:{},mixins:[],props:{},data(){return{active1:0}},computed:{list1(){return new Array(100).fill(1).map((o,e)=>({id:e,text:Math.random()}))}},watch:{},mounted(){this.observe=new m({dom:this.$refs.list1}),this.observe2=new m({dom:this.$refs.list2,childClass:"list-item"})},methods:{randomActive(){this.active1=Math.ceil(Math.random()*100)%this.list1.length}}},d={};var h=f(D,_,b,!1,x,"ec21115e",null,null);function x(t){for(let o in d)this[o]=d[o]}h.options.__file="src/components/locateDom/LocateDom.vue";var g=function(){return h.exports}();export{g as default};
